<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id="madiv">
        <p></p>
    </div>
</body>
<script>

    let div = document.getElementById("madiv");

    function asyncOperation(sucess){
        return new Promise((resolve, reject) => {
            setTimeout(function(){
                if (sucess){
                    resolve("bravo");
                    div.style.backgroundColor = "red";
                    div.style.width = '200px';
                    div.style.height = '200px';
                    div.style.position = 'absolute';
                    div.style.left = '+100px';
                    
                }else{
                    reject("echec");
                    div.style.backgroundColor = "green";
                    div.style.width = '100px';
                    div.style.height = '100px';
                    div.style.left = '0px';
                }
                let msg=sucess?"bravo":"echec";
            })
        }, 2000);
    }

    asyncOperation(true)
        .then((result) => {
            console.log(result);
        }).then(() => {
            setInterval(hello,30); 
        })
        .catch((error) => {
            console.error(error);
        })

    function hello(){
        w = Number.parseInt(div.style.width);
        h = Number.parseInt(div.style.height);
        w = w + 1;
        h = h + 1;
        div.style.width = w.toString() + "px";
        div.style.height = h.toString() + "px";
        newcolor = div.style.backgroundColor=="red"?"orange":"red";
        div.style.backgroundColor=newcolor; 
    }
</script>
</html>
<style>
    #madiv {
        background-color: green;
        height:100px;
        width:100px;
    }
</style>